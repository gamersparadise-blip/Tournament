<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Panel - Tournament Manager</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <h2>ðŸŽ® Admin - Create Tournament</h2>

        <form method="POST">
            <input type="text" name="name" placeholder="Tournament Name" required><br>
            <input type="date" name="date" required><br>
            <input type="time" name="time" required><br>
            <input type="text" name="room_id" placeholder="Room ID" required><br>
            <input type="text" name="room_pass" placeholder="Room Password" required><br>
            <button type="submit">Create Tournament</button>
        </form>

        <h3>ðŸ—‚ Filter by Tournament</h3>
        <form method="GET" action="/admin">
            <select name="filter_tournament">
                <option value="">-- Show All --</option>
                {% for t in tournaments %}
                    <option value="{{ t[0] }}" {% if selected_id == t[0]|string %}selected{% endif %}>{{ t[1] }}</option>
                {% endfor %}
            </select>
            <button type="submit">Filter</button>
        </form>

        <h3>ðŸ“‹ Registered Users</h3>
        <table class="reg-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Mobile</th>
                    <th>PUBG ID</th>
                    <th>Game</th>
                    <th>Tournament</th>
                    <th>Screenshot</th>
                </tr>
            </thead>
            <tbody>
                {% for reg in registrations %}
                <tr>
                    <td>{{ reg[0] }}</td>
                    <td>{{ reg[1] }}</td>
                    <td>{{ reg[2] }}</td>
                    <td>{{ reg[3] }}</td>
                    <td>{{ reg[4] }}</td>
                    <td>
                        {% if reg[5] %}
                        <img src="/uploads/{{ reg[5] }}" width="100" alt="screenshot">
                        {% else %}
                        No Screenshot
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>
